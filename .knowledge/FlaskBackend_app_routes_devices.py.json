{"is_source_file": true, "format": "Python", "description": "This file defines Flask route handlers for device management, including CRUD operations, validation, and MongoDB interactions within a Flask web application.", "external_files": ["flask", "flask.views", "flask_smorest", "pymongo", "pymongo.errors", "os", "re", "typing"], "external_methods": ["request.get_json", "coll.find", "coll.find_one", "coll.insert_one", "coll.update_one", "coll.delete_one", "coll.create_index"], "published": ["blp"], "classes": [{"name": "DevicesCollection", "description": "Flask MethodView handling GET and POST requests for the /devices endpoint, managing device list retrieval and creation."}, {"name": "DeviceItem", "description": "Flask MethodView handling GET, PUT, DELETE requests for individual device resources identified by device_id."}], "methods": [{"name": "_validate_ipv4", "description": "Validates whether a given string is a valid IPv4 address."}, {"name": "_validate_device_payload", "description": "Validates the device payload for required fields and correct formats."}, {"name": "_mongo_collection", "description": "Initializes and returns the MongoDB collection based on environment variables."}, {"name": "_sanitize", "description": "Removes MongoDB internal '_id' field from documents before returning via API."}, {"name": "get", "description": "Handles GET requests to retrieve all devices or a specific device by ID."}, {"name": "post", "description": "Handles POST requests to create a new device."}, {"name": "put", "description": "Handles PUT requests to update an existing device by ID."}, {"name": "delete", "description": "Handles DELETE requests to remove a device by ID."}], "calls": ["request.get_json", "coll.find", "coll.find_one", "coll.insert_one", "coll.update_one", "coll.delete_one", "coll.create_index"], "search-terms": ["Flask device routes", "MongoDB device collection", "device validation", "device CRUD API", "Flask MethodView devices", "device management endpoints"], "state": 2, "file_id": 7, "knowledge_revision": 57, "git_revision": "6dd87ffca8b203f0dc17905f9ff89d64ffa8c094", "revision_history": [{"15": ""}, {"22": "6dd87ffca8b203f0dc17905f9ff89d64ffa8c094"}, {"30": "6dd87ffca8b203f0dc17905f9ff89d64ffa8c094"}, {"39": "6dd87ffca8b203f0dc17905f9ff89d64ffa8c094"}, {"48": "6dd87ffca8b203f0dc17905f9ff89d64ffa8c094"}, {"57": "6dd87ffca8b203f0dc17905f9ff89d64ffa8c094"}], "ctags": [], "filename": "FlaskBackend/app/routes/devices.py", "format-version": 4, "code-base-name": "https://github.com/kavia-common/netweb-application-5907-6070.git:kavia-main"}