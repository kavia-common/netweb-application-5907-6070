{"is_source_file": true, "format": "Python", "description": "This file defines Flask route handlers for device management, including CRUD operations, validation, and MongoDB interactions.", "external_files": ["flask", "flask.views", "flask_smorest", "pymongo", "pymongo.errors", "os", "re", "typing"], "external_methods": ["flask.request.get_json", "pymongo.MongoClient", "pymongo.errors.PyMongoError", "coll.create_index", "coll.find", "coll.find_one", "coll.insert_one", "coll.update_one", "coll.delete_one"], "published": ["blp"], "classes": [{"name": "DevicesCollection", "description": "Flask MethodView handling GET and POST for /devices endpoint."}, {"name": "DeviceItem", "description": "Flask MethodView handling GET, PUT, DELETE for /devices/<int:device_id> endpoint."}], "methods": [{"name": "_validate_ipv4", "description": "Validates if a string is a valid IPv4 address."}, {"name": "_validate_device_payload", "description": "Validates device payload data, checking required fields and formats."}, {"name": "_mongo_collection", "description": "Initializes and returns the MongoDB collection based on environment variables."}, {"name": "_sanitize", "description": "Removes MongoDB internal '_id' field from documents before returning."}, {"name": "get", "description": "Handles GET requests for retrieving all devices or a specific device by ID."}, {"name": "post", "description": "Handles POST requests for creating a new device."}, {"name": "put", "description": "Handles PUT requests for updating an existing device by ID."}, {"name": "delete", "description": "Handles DELETE requests for removing a device by ID."}], "calls": ["request.get_json", "coll.find", "coll.find_one", "coll.insert_one", "coll.update_one", "coll.delete_one", "coll.create_index"], "search-terms": ["FlaskBackend", "devices", "MongoDB", "device management", "device CRUD", "pymongo", "device validation", "device schema", "device routes"], "state": 2, "file_id": 7, "knowledge_revision": 93, "git_revision": "6dd87ffca8b203f0dc17905f9ff89d64ffa8c094", "revision_history": [{"15": ""}, {"22": "6dd87ffca8b203f0dc17905f9ff89d64ffa8c094"}, {"30": "6dd87ffca8b203f0dc17905f9ff89d64ffa8c094"}, {"39": "6dd87ffca8b203f0dc17905f9ff89d64ffa8c094"}, {"48": "6dd87ffca8b203f0dc17905f9ff89d64ffa8c094"}, {"57": "6dd87ffca8b203f0dc17905f9ff89d64ffa8c094"}, {"66": "6dd87ffca8b203f0dc17905f9ff89d64ffa8c094"}, {"75": "6dd87ffca8b203f0dc17905f9ff89d64ffa8c094"}, {"84": "6dd87ffca8b203f0dc17905f9ff89d64ffa8c094"}, {"93": "6dd87ffca8b203f0dc17905f9ff89d64ffa8c094"}], "ctags": [], "filename": "FlaskBackend/app/routes/devices.py", "format-version": 4, "code-base-name": "https://github.com/kavia-common/netweb-application-5907-6070.git:kavia-main"}